// 15 ???????, 4 ???????? ????
// T1 = 4 c
// T2 = 2,5 c
// T3 = 1,5 c
// T4 = 7 c

// ??? ???????? ?? ????????, ????? ?????????? ? ??????? msec ???????? 400, 250, 150, 700 ??? ???????????? ??????????? ????????

#include <8051.h>


void sleep(int x) {
	int i;
	TMOD = 0x01; // ????? 1 ??? TC0
	TR0 = 1; // ???????? TC0
	for (i = 0; i < 20 * x; i++) {
		TH0 = 0;
		TL0 = 0;
		while (TH0 < 195); // ???????? ? 50 ??
	}
}

void main() //???????? ?????????
{
	int x;
	unsigned char time[8] = {
		4,
		2,
		7,
		4,
		7,
		7,
		4,
		3
	};

	unsigned char array[8] = {
		0x01,
		0x02,
		0x04,
		0x08,
		0x10,
		0x20,
		0x40,
		0x80
	};
	
	int i;
	TMOD = 0x1; //????????? TC0 ?? ?????? ????? ??????
	for (i = 0; i < 8; i++) //???????????? ???? ?? 1 ?? 8
	{
		P1 = array[i]; //?????????? ???????? ?????
		
		sleep(time[i]); //???????????? ???????? ???????????
	}
	//while (1);
}
